{% extends "layout.html" %}

{% block body %}
<form method="POST" action="" enctype="multipart/form-data">
  <h3>{{ legend }}</h3>
  <table>
    <tr>
      <td>
        {{ form.species.label }}
      </td>
      <td>
        {{ form.species }}
      </td>
      <td>
        <ul>
          {% for error in form.species.errors %}
          <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </td>
    </tr>
    <tr>
      <td>
        {{ form.weight.label }}
      </td>
      <td>
        {{ form.weight }}
      </td>
      <td>
        <ul>
          {% for error in form.weight.errors %}
          <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </td>
    </tr>
    <tr>
      <td>
        {{ form.picture.label }}
      </td>
      <td>
        {{ form.picture }}
      </td>
      {% if not "new" in request.path %}
      {% if not fish == undefined %}
    <tr>
      <td>
        <img src="{{ picture }}" height="120" width="160" alt="Current Fish image">
      </td>
      <td>
        <p><input type="checkbox" name="delete-picture"/> Delete current picture</p>
      </td>
    </tr>
    {% endif %}
    {% endif %}
    <td>
      <ul>
        {% for error in form.picture.errors %}
        <li>{{ error }}</li>
        {% endfor %}
      </ul>
    </td>
    </tr>
    <tr>
      <td colspan="3">
        <input type="submit" value="{{ value }}" />
      </td>
    </tr>
</form>
{% endblock %}